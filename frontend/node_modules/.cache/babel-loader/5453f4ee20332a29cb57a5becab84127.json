{"ast":null,"code":"import _objectSpread from\"/Users/lesleycheung/Desktop/Phonebook/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/lesleycheung/Desktop/Phonebook/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import personService from\"./components/services/persons\";import Filter from\"./components/Filter\";import Persons from\"./components/Rows\";var Notification=function Notification(_ref){var notification=_ref.notification;if(notification.message===null){return null;}var style={color:notification.type===\"error\"?\"red\":\"green\",background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10};return React.createElement(\"div\",{style:style},notification.message);};var PersonForm=function PersonForm(props){return React.createElement(\"form\",{onSubmit:props.handleSubmit},React.createElement(\"div\",null,\"Name: \",React.createElement(\"input\",{onChange:props.handleNameChange,value:props.newName})),React.createElement(\"div\",null,\"Number:\",\" \",React.createElement(\"input\",{onChange:props.handleNumberChange,value:props.newNumber})),React.createElement(\"button\",{className:\"btn\",type:\"submit\"},\"Add Contact\"));};var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),filter=_useState8[0],setFilter=_useState8[1];var _useState9=useState({message:null}),_useState10=_slicedToArray(_useState9,2),notification=_useState10[0],setNotification=_useState10[1];useEffect(function(){personService.getAll().then(function(data){setPersons(data);});},[]);var handleNameChange=function handleNameChange(event){return setNewName(event.target.value);};var handleNumberChange=function handleNumberChange(event){return setNewNumber(event.target.value);};var handleFilterChange=function handleFilterChange(event){return setFilter(event.target.value);};var notify=function notify(message){var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"success\";setNotification({message:message,type:type});setTimeout(function(){return setNotification({message:null});},10000);};var handleSubmit=function handleSubmit(event){event.preventDefault();var existingPerson=persons.find(function(p){return p.name===newName;});if(existingPerson){var ok=window.confirm(\"Replace \".concat(newName,\"?\"));if(ok){personService.replace(_objectSpread({},existingPerson,{number:newNumber})).then(function(replacedPerson){setPersons(persons.map(function(p){return p.name===newName?replacedPerson:p;}));setNewName(\"\");setNewNumber(\"\");notify(\"Replaced \".concat(newName,\"!\"));});}return;}personService.create({name:newName,number:newNumber}).then(function(createdPerson){setPersons(persons.concat(createdPerson));setNewName(\"\");setNewNumber(\"\");notify(\"Added \".concat(createdPerson.name));});};var deletePerson=function deletePerson(id){var person=persons.find(function(p){return p.id===id;});var ok=window.confirm(\"Delete \".concat(person.name,\"?\"));if(ok){personService.remove(id).then(function(){setPersons(persons.filter(function(p){return p.id!==id;}));});notify(\"Deleted \".concat(person.name));}};var personsToShow=filter.length===0?persons:persons.filter(function(p){return p.name.toLowerCase().includes(filter.toLowerCase());});return React.createElement(\"div\",{className:\"container font4\"},React.createElement(\"h2\",null,\"Phonebook\"),React.createElement(\"br\",null),React.createElement(Notification,{notification:notification}),React.createElement(Filter,{handleChange:handleFilterChange,value:filter}),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Add a Contact\"),React.createElement(PersonForm,{handleNameChange:handleNameChange,handleNumberChange:handleNumberChange,handleSubmit:handleSubmit,newName:newName,newNumber:newNumber}),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Numbers\"),React.createElement(Persons,{persons:personsToShow,deletePerson:deletePerson}));};export default App;","map":{"version":3,"sources":["/Users/lesleycheung/Desktop/Phonebook/frontend/src/App.js"],"names":["React","useState","useEffect","personService","Filter","Persons","Notification","notification","message","style","color","type","background","fontSize","borderStyle","borderRadius","padding","marginBottom","PersonForm","props","handleSubmit","handleNameChange","newName","handleNumberChange","newNumber","App","persons","setPersons","setNewName","setNewNumber","filter","setFilter","setNotification","getAll","then","data","event","target","value","handleFilterChange","notify","setTimeout","preventDefault","existingPerson","find","p","name","ok","window","confirm","replace","number","replacedPerson","map","create","createdPerson","concat","deletePerson","id","person","remove","personsToShow","length","toLowerCase","includes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport personService from \"./components/services/persons\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Rows\";\n\nconst Notification = ({ notification }) => {\n  if (notification.message === null) {\n    return null;\n  }\n\n  const style = {\n    color: notification.type === \"error\" ? \"red\" : \"green\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  };\n\n  return <div style={style}>{notification.message}</div>;\n};\n\nconst PersonForm = props => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        Name: <input onChange={props.handleNameChange} value={props.newName} />\n      </div>\n      <div>\n        Number:{\" \"}\n        <input onChange={props.handleNumberChange} value={props.newNumber} />\n      </div>\n\n      <button className=\"btn\" type=\"submit\">\n        Add Contact\n      </button>\n    </form>\n  );\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState({\n    message: null\n  });\n\n  useEffect(() => {\n    personService.getAll().then(data => {\n      setPersons(data);\n    });\n  }, []);\n\n  const handleNameChange = event => setNewName(event.target.value);\n  const handleNumberChange = event => setNewNumber(event.target.value);\n  const handleFilterChange = event => setFilter(event.target.value);\n\n  const notify = (message, type = \"success\") => {\n    setNotification({ message, type });\n    setTimeout(() => setNotification({ message: null }), 10000);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const existingPerson = persons.find(p => p.name === newName);\n\n    if (existingPerson) {\n      const ok = window.confirm(`Replace ${newName}?`);\n\n      if (ok) {\n        personService\n          .replace({\n            ...existingPerson,\n            number: newNumber\n          })\n          .then(replacedPerson => {\n            setPersons(\n              persons.map(p => (p.name === newName ? replacedPerson : p))\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            notify(`Replaced ${newName}!`);\n          });\n      }\n\n      return;\n    }\n\n    personService\n      .create({\n        name: newName,\n        number: newNumber\n      })\n      .then(createdPerson => {\n        setPersons(persons.concat(createdPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        notify(`Added ${createdPerson.name}`);\n      });\n  };\n\n  const deletePerson = id => {\n    const person = persons.find(p => p.id === id);\n    const ok = window.confirm(`Delete ${person.name}?`);\n    if (ok) {\n      personService.remove(id).then(() => {\n        setPersons(persons.filter(p => p.id !== id));\n      });\n      notify(`Deleted ${person.name}`);\n    }\n  };\n\n  const personsToShow =\n    filter.length === 0\n      ? persons\n      : persons.filter(p =>\n          p.name.toLowerCase().includes(filter.toLowerCase())\n        );\n\n  return (\n    <div className=\"container font4\">\n      <h2>Phonebook</h2>\n      <br />\n      <Notification notification={notification} />\n\n      <Filter handleChange={handleFilterChange} value={filter} />\n      <br />\n      <h3>Add a Contact</h3>\n\n      <PersonForm\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <br />\n      <h3>Numbers</h3>\n\n      <Persons persons={personsToShow} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}